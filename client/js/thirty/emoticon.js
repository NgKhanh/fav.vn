emoticonEncode = function(selfTxt){
	
	selfTxt = replaceRegExp(selfTxt,{'>:)'	:'regExp19.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':(('	:'regExp20.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':))'	:'regExp21.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'/:)'	:'regExp23.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{';;)'	:'regExp5.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'(:|'	:'regExp37.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'<):)'	:'regExp48.gif_endRegExp'});
	
	selfTxt = replaceRegExp(selfTxt,{':)'		:'regExp1.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':('		:'regExp2.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{';)'		:'regExp3.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':D'		:'regExp4.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':d'		:'regExp4.gif_endRegExp'});
	
	selfTxt = replaceRegExp(selfTxt,{'>:D<'	:'regExp6.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-/'	:'regExp7.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':x'		:'regExp8.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':X'		:'regExp8.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':">'	:'regExp9.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':P'		:'regExp10.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':p'		:'regExp10.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-*'	:'regExp11.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'=(('	:'regExp12.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-O'	:'regExp13.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'X('		:'regExp14.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':>'		:'regExp15.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'B-)'	:'regExp16.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-S'	:'regExp17.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'#:-S'	:'regExp18.gif_endRegExp'});

	
	
	selfTxt = replaceRegExp(selfTxt,{':|'	:'regExp22.gif_endRegExp'});
	
	selfTxt = replaceRegExp(selfTxt,{'=))'	:'regExp24.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'O:-)'	:'regExp25.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-B'	:'regExp26.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'=;'	:'regExp27.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'I-)'	:'regExp28.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'8-|'	:'regExp29.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'L-)'	:'regExp30.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-&'	:'regExp31.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-$'	:'regExp32.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'[-('	:'regExp33.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':O)'	:'regExp34.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'8-}'	:'regExp35.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'<:-P'	:'regExp36.gif_endRegExp'});

	selfTxt = replaceRegExp(selfTxt,{'=P~'	:'regExp38.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-?'	:'regExp39.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'#-o'	:'regExp40.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'=D>'	:'regExp41.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-SS'	:'regExp42.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'@-)'	:'regExp43.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':^o'	:'regExp44.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-w'	:'regExp45.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-<'	:'regExp46.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'>:P'	:'regExp47.gif_endRegExp'});
	
	
	selfTxt = replaceRegExp(selfTxt,{':-c'	:'regExp101.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':)]'	:'regExp100.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'~X('	:'regExp102.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-h'	:'regExp103.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-t'	:'regExp104.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'8->'	:'regExp105.gif_endRegExp'});
	
	
	selfTxt = replaceRegExp(selfTxt,{'X_X'	:'regExp109.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':!!'	:'regExp110.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'\m/'	:'regExp111.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-q'	:'regExp112.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':-bd'	:'regExp113.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{'^#(^'	:'regExp114.gif_endRegExp'});
	selfTxt = replaceRegExp(selfTxt,{':ar!'	:'regExp115.gif_endRegExp'});
	
	//remove all html tag
	selfTxt = selfTxt.safeString();
	
	return selfTxt;
	
}

emoticonDecode=function(selfTxt){ console.log('--->', selfTxt);
	// remove all html tag
	selfTxt = selfTxt.safeString();
	
	// show emoticon
	selfTxt = selfTxt.replaceAll('regExp', '<img class="emoticon" src="http://l.yimg.com/us.yimg.com/i/mesg/emoticons7/');
	selfTxt = selfTxt.replaceAll('_endRegExp', '"/>');
	
	return selfTxt;
}

replaceRegExp = function(str, obj){	
	for (var i in obj){		
	   str = str.replace(new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1"), "gm"), obj[i]);	
	}
	return str;
}